:root{--bg:#020617;--bg-elevated:#020617;--card:#0f172af5;--card-border:#94a3b859;--text-main:#fff;--text-muted:#9ca3af;--accent:#22c55e;--accent-soft:#22c55e2e;--accent-strong:#4ade80;--danger:#fb7185;--radius-lg:18px}*,:before,:after{box-sizing:border-box}body{color:var(--text-main);background-color:#0000;background-image:linear-gradient(#ffffff2e,#ffffff2e),url(/rehab-app/assets/background-C7HaMS6Q.png);background-position:50%;background-repeat:no-repeat;background-size:cover;background-attachment:scroll,scroll;background-origin:padding-box,padding-box;background-clip:border-box,border-box;margin:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}#root{box-sizing:border-box;min-height:100vh;padding:1.5rem}.app-root{max-width:1280px;min-height:100vh;margin:0 auto;padding:24px 28px 32px}.app-header{align-items:center;gap:1rem;padding-bottom:.75rem;display:flex}.banner-wrapper{flex:1;justify-content:center;align-items:center;display:flex}.app-banner{width:100%;max-width:420px;height:auto;display:block}.header-meta{align-items:center;gap:12px;margin-left:auto;display:flex}.env-pill{color:var(--text-muted);background:#0f172ae6;border:1px solid #94a3b880;border-radius:999px;padding:6px 12px;font-size:.8rem}.header-user-block{align-items:center;gap:10px;display:flex}.header-user{color:var(--text-main);font-size:13px}.header-user-role{color:var(--text-muted)}.mode-toggle{background:#0f172ae6;border:1px solid #94a3b899;border-radius:999px;gap:4px;padding:3px;display:inline-flex}.mode-btn{color:var(--text-muted);cursor:pointer;background:0 0;border:none;border-radius:999px;padding:4px 10px;font-size:.78rem}.mode-btn-active{color:#e5e7eb;background:#1e40afb3}.app-logout-button{color:var(--text-main);cursor:pointer;background:#0f172ad9;border:1px solid #374151e6;border-radius:999px;padding:6px 10px;font-size:12px;transition:background .12s,border-color .12s}.app-logout-button:hover{border-color:var(--accent);background:#0f172a}.app-grid{grid-template-columns:260px minmax(0,1.4fr) 320px;gap:20px;display:grid}.card{background:var(--card);border-radius:var(--radius-lg);border:1px solid var(--card-border);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);padding:18px 18px 20px;box-shadow:0 18px 45px #0f172ad9}.card-header{justify-content:space-between;align-items:center;gap:8px;margin-bottom:10px;display:flex}.card-header h2{margin:0;font-size:1rem}.card-helper{color:var(--text-muted);margin:0 0 12px;font-size:.8rem}.section-title{margin:0 0 8px;font-size:.95rem}.pill-soft{color:var(--text-muted);background:#0f172ae6;border:1px solid #94a3b880;border-radius:999px;padding:4px 10px;font-size:.75rem}.btn-primary{background:linear-gradient(135deg,var(--accent),var(--accent-strong));color:#022c22;cursor:pointer;border:none;border-radius:999px;padding:10px 18px;font-size:15px;font-weight:600;transition:transform 80ms,box-shadow 80ms,background .12s,filter 80ms;box-shadow:0 0 0 1px #15803d80,0 8px 20px #22c55e66}.btn-primary:disabled{opacity:.5;cursor:default;box-shadow:none;transform:none}.btn-primary:not(:disabled):hover{background:var(--accent-strong);filter:brightness(1.05);transform:translateY(-1px);box-shadow:0 12px 26px #22c55e8c}.btn-secondary{color:#e5e7eb;cursor:pointer;background:0 0;border:1px solid #94a3b859;border-radius:999px;padding:10px 18px;font-size:15px;transition:border-color .12s,color .12s,transform 80ms}.btn-secondary:hover{border-color:var(--accent-strong);color:var(--accent-strong);transform:translateY(-1px)}.btn-small{padding:6px 12px;font-size:.8rem}.patient-list{flex-direction:column;gap:8px;display:flex}.patient-pill{cursor:pointer;text-align:center;background:#0f172a;border:1px solid #334155e6;border-radius:12px;flex-direction:column;justify-content:center;align-items:center;gap:6px;width:100%;padding:14px 10px;transition:border .12s,background .12s,transform .1s;display:flex}.patient-pill:hover{border-color:#94a3b8e6;transform:translateY(-1px)}.patient-pill-active{border-color:var(--accent-strong);background:radial-gradient(circle at 0 0,#052e16,#020617 55%);box-shadow:0 10px 24px #16a34a8c}.patient-pill-main{flex-direction:column;align-items:center;gap:2px;display:flex}.patient-name{color:#fff;font-size:.88rem;font-weight:500}.patient-condition{color:#9ca3afb3;font-size:.76rem}.patient-stage-chip{background:var(--accent-soft);color:var(--accent-strong);white-space:nowrap;border:1px solid #22c55ebf;border-radius:999px;margin-top:4px;padding:4px 8px;font-size:.7rem}.overview-grid{grid-template-columns:repeat(3,minmax(0,1fr));gap:12px 18px;margin-bottom:16px;display:grid}.label{color:var(--text-muted);margin:0 0 2px;font-size:.75rem}.notes-block{margin-bottom:12px}.notes-block p{margin:0}.pill-row{flex-wrap:wrap;align-items:center;gap:8px;margin-bottom:6px;display:flex}.stage-pill{background:var(--accent-soft);color:var(--accent-strong);border:1px solid #22c55ecc;border-radius:999px;padding:6px 14px;font-size:.8rem}.hint-text{color:var(--text-muted);margin:0;font-size:.75rem}.divider{opacity:.7;background:radial-gradient(circle,#94a3b8b3,#0000);height:1px;margin:10px 0 12px}.behaviour-level{margin-bottom:10px}.behaviour-title{margin:0 0 4px;font-size:.92rem}.behaviour-summary{color:var(--text-muted);margin:0;font-size:.8rem}.stages-rail{flex-direction:column;gap:8px;display:flex}.stage-node{color:var(--text-muted);background:radial-gradient(circle at 0,#020617,#020617 55%,#000);border:1px dashed #4b5563cc;border-radius:14px;padding:8px 10px;font-size:.8rem}.stage-node-active{border-style:solid;border-color:var(--accent-strong);color:#bbf7d0;background:radial-gradient(circle at 0,#052e16,#020617 60%);box-shadow:0 10px 26px #16a34a8c}.quest-list{flex-direction:column;gap:8px;margin:0 0 10px;padding:0;list-style:none;display:flex}.quest-item{align-items:flex-start;gap:8px;font-size:.8rem;display:flex}.quest-checkbox{border:1px solid #94a3b8b3;border-radius:4px;width:14px;height:14px;margin-top:3px}.xp-block{margin-bottom:10px}.xp-header{justify-content:space-between;align-items:baseline;gap:8px;margin-bottom:6px;display:flex}.xp-level{font-size:.9rem;font-weight:600;position:relative}.xp-numbers{color:var(--text-muted);font-size:.8rem}.xp-bar-wrapper{margin-bottom:4px;position:relative}.xp-bar{background:radial-gradient(circle at 0,#020617,#020617 55%,#000);border:1px solid #374151e6;border-radius:999px;width:100%;height:10px;position:relative;overflow:hidden;box-shadow:inset 0 0 10px #0f172ae6}.xp-bar-fill{border-radius:inherit;background:linear-gradient(90deg,#22c55e,#4ade80,#a3e635);height:100%;transition:width .22s ease-out;box-shadow:0 0 16px #22c55eb3}.xp-hint{color:var(--text-muted);margin:6px 0 0;font-size:.75rem}.xp-test-btn{text-align:center;width:100%;margin-top:10px}.xp-gain-float{color:#bbf7d0;text-shadow:0 0 10px #22c55e;pointer-events:none;font-size:.9rem;font-weight:700;animation:1.4s ease-out forwards xpFloat;position:absolute;top:-10px;right:6px}@keyframes xpFloat{0%{opacity:0;transform:translateY(6px)scale(.9)}10%{opacity:1}60%{opacity:1;transform:translateY(-10px)scale(1.05)}to{opacity:0;transform:translateY(-30px)scale(1)}}.xp-bar-pulse{animation:.6s ease-out xpPulse}@keyframes xpPulse{0%{transform:scale(1);box-shadow:inset 0 0 10px #0f172ae6}40%{transform:scale(1.03);box-shadow:0 0 22px #22c55ef2}to{transform:scale(1);box-shadow:inset 0 0 10px #0f172ae6}}.xp-level-flash{animation:.6s ease-out xpLevelPop}.xp-level-flash:before{content:"";pointer-events:none;border:1px solid #bef264e6;border-radius:999px;animation:.6s ease-out xpRing;position:absolute;inset:-4px -8px;box-shadow:0 0 #bef264b3}@keyframes xpLevelPop{0%{color:#e5e7eb;transform:scale(1)}30%{color:#bbf7d0;transform:scale(1.15)}to{color:#f9fafb;transform:scale(1)}}@keyframes xpRing{0%{opacity:.9;transform:scale(1);box-shadow:0 0 #bef264b3}to{opacity:0;transform:scale(1.4);box-shadow:0 0 0 14px #bef26400}}.levelup-popup{pointer-events:none;z-index:40;justify-content:center;align-items:center;animation:1.8s ease-out forwards levelPopupFade;display:flex;position:fixed;inset:0}.levelup-img{width:280px;max-width:80vw;image-rendering:pixelated;transform-origin:50%;animation:.6s cubic-bezier(.2,1.3,.3,1) levelPopupPop}@keyframes levelPopupPop{0%{filter:brightness(.8);transform:scale(.6)}60%{filter:brightness(1.1);transform:scale(1.05)}to{filter:brightness();transform:scale(1)}}@keyframes levelPopupFade{0%{opacity:0}10%{opacity:1}to{opacity:0}}@keyframes screenShake{0%{transform:translate(0)}20%{transform:translate(-4px,2px)}40%{transform:translate(3px,-3px)}60%{transform:translate(-2px,4px)}80%{transform:translate(3px,-1px)}to{transform:translate(0)}}.screen-shake{animation:.35s ease-in-out screenShake}.confetti{pointer-events:none;z-index:60;width:100%;height:100%;position:fixed;top:0;left:0}.confetti-piece{background:var(--c);opacity:0;width:8px;height:8px;image-rendering:pixelated;animation:.9s ease-out forwards confettiPop;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)scale(.8)}@keyframes confettiPop{0%{opacity:1;transform:translate(-50%,-50%)scale(.8)rotate(0)}70%{opacity:1;transform:translate(calc(-50% + var(--x)),calc(-50% + var(--y)))scale(1)rotate(180deg)}to{opacity:0;transform:translate(calc(-50% + var(--x)),calc(-50% + var(--y)))scale(.9)rotate(270deg)}}.login-wrapper{color:#e5e7eb;background:radial-gradient(circle at top,#0f172a 0,#020617 55%,#000 100%);justify-content:center;align-items:center;min-height:100vh;padding:24px;display:flex}.login-card{background:#0f172af5;border:1px solid #94a3b866;border-radius:18px;width:100%;max-width:420px;padding:24px 22px 20px;box-shadow:0 24px 80px #0f172ae6}.login-logo{justify-content:flex-start;margin-bottom:8px;display:flex}.login-logo-pill{text-transform:uppercase;letter-spacing:.14em;color:#bbf7d0;background:#16a34a1f;border:1px solid #34d39999;border-radius:999px;padding:4px 10px;font-size:13px}.login-title{margin:0 0 6px;font-size:26px;font-weight:700}.login-subtitle{color:#9ca3af;margin:0 0 18px;font-size:14px}.login-form{flex-direction:column;gap:14px;display:flex}.login-field{flex-direction:column;gap:6px;display:flex}.login-label{color:#e5e7eb;font-size:13px}.login-label-optional{color:#9ca3af;font-size:11px}.role-toggle{background:#0f172ae6;border:1px solid #374151e6;border-radius:999px;gap:8px;padding:4px;display:flex}.role-pill{cursor:pointer;color:#9ca3af;background:0 0;border:none;border-radius:999px;flex:1;padding:6px 10px;font-size:13px;transition:background .12s,color .12s,transform 60ms}.role-pill--active{color:#022c22;background:linear-gradient(135deg,#22c55e,#4ade80);transform:translateY(-1px)}.login-input{color:#e5e7eb;background:#0f172ae6;border:1px solid #4b5563e6;border-radius:10px;outline:none;padding:9px 11px;font-size:14px}.login-input::placeholder{color:#6b7280}.login-input:focus{border-color:#22c55e;box-shadow:0 0 0 1px #22c55e80}.login-button{cursor:pointer;color:#022c22;background:linear-gradient(135deg,#22c55e,#4ade80);border:none;border-radius:999px;margin-top:6px;padding:10px 14px;font-size:15px;font-weight:600;transition:transform 80ms,box-shadow 80ms,filter 80ms}.login-button:disabled{opacity:.5;cursor:default;box-shadow:none;transform:none}.login-button:not(:disabled):hover{filter:brightness(1.05);transform:translateY(-1px);box-shadow:0 12px 35px #22c55e66}.login-disclaimer{color:#6b7280;text-align:center;margin-top:8px;font-size:11px}.patient-main{max-width:720px;margin:0 auto}.form-grid{gap:12px;margin:10px 0 16px;display:grid}.form-field{flex-direction:column;gap:4px;display:flex}.input{color:var(--text-main);background:#020617;border:1px solid #94a3b899;border-radius:10px;padding:8px 10px;font-size:.9rem}.input:focus{border-color:var(--accent-strong);outline:none;box-shadow:0 0 0 1px #22c55e99}.narrative-block{color:var(--text-main);flex-direction:column;gap:8px;margin:8px 0 16px;font-size:.9rem;display:flex}.narrative-type p{white-space:pre-line;position:relative}.narrative-type p:after{content:"â–Œ";margin-left:2px;animation:.9s step-end infinite blinkCursor;display:inline-block}@keyframes blinkCursor{0%,50%{opacity:1}50.1%,to{opacity:0}}.wizard-wrapper{justify-content:center;align-items:center;margin:1.5rem 0;display:flex}.wizard-container{display:inline-block;position:relative}.wizard-img{width:220px;height:auto;margin:0 auto;display:block}.wizard-mouth{pointer-events:none;z-index:2;background:#111827;border-radius:999px;width:28px;height:10px;animation:.6s infinite wizardTalk;position:absolute;top:46%;left:55%;transform:translate(-50%,-50%)}@keyframes wizardTalk{0%{height:6px}25%{height:13px}50%{height:7px}75%{height:11px}to{height:6px}}.toggle-row{background:#0f172ae6;border:1px solid #374151e6;border-radius:999px;gap:6px;padding:3px;display:inline-flex}.toggle-pill{color:var(--text-muted);cursor:pointer;background:0 0;border:none;border-radius:999px;padding:5px 12px;font-size:.8rem;transition:background .12s,color .12s,transform 60ms}.toggle-pill--active{color:#bbf7d0;background:#22c55e26;transform:translateY(-1px)}.creator-nav{justify-content:space-between;gap:12px;margin-top:20px;display:flex}.creator-nav-centre{justify-content:center}.class-single-wrapper{flex-direction:column;align-items:center;gap:10px;margin:8px 0 4px;display:flex}.class-card{cursor:pointer;background:radial-gradient(circle at top,#111827,#020617 75%);border:1px solid #94a3b8b3;border-radius:18px;flex-direction:column;align-items:center;gap:10px;min-width:240px;max-width:260px;padding:12px 12px 14px;transition:transform .15s,box-shadow .15s,border-color .15s;display:flex;box-shadow:0 10px 30px #0f172ae6}.class-card:hover{border-color:var(--accent-strong);transform:translateY(-3px)scale(1.02);box-shadow:0 14px 40px #22c55e4d}.class-card-active{border-color:var(--accent-strong);transform:translateY(-4px)scale(1.03);box-shadow:0 16px 44px #22c55e73}.class-card-burst{animation:.6s ease-out classBurst}@keyframes classBurst{0%{transform:translateY(-4px)scale(1.03);box-shadow:0 0 #22c55e66}40%{transform:translateY(-6px)scale(1.06);box-shadow:0 0 28px 6px #22c55ed9}to{transform:translateY(-4px)scale(1.03);box-shadow:0 0 #22c55e00}}.class-sprite-wrap{justify-content:center;align-items:center;width:160px;height:160px;display:flex}.class-sprite-wrap.large{width:180px;height:180px}.class-sprite{max-width:100%;max-height:100%;image-rendering:pixelated}.class-text{text-align:center}.class-name{color:#f9fafb;margin:0;font-size:.95rem;font-weight:600}.class-subtitle{color:#a5b4fc;margin:2px 0 4px;font-size:.8rem}.class-blurb{color:var(--text-muted);margin:0;font-size:.8rem}.class-pager{justify-content:center;align-items:center;gap:12px;margin-top:4px;display:flex}.pager-btn{color:#e5e7eb;cursor:pointer;background:#0f172ae6;border:1px solid #94a3b899;border-radius:999px;padding:6px 10px;font-size:.8rem;transition:border-color .12s,background .12s,transform 60ms}.pager-btn:hover{border-color:var(--accent-strong);background:#0f172a;transform:translateY(-1px)}.pager-status{color:var(--text-muted);font-size:.8rem}.character-panel{align-items:center;gap:14px;margin:10px 0 16px;display:flex}.character-panel.column{flex-direction:column;align-items:center}.character-details{flex-direction:column;gap:4px;display:flex}.character-nickname{margin:0;font-size:1rem;font-weight:600}.character-line{color:var(--text-muted);margin:0;font-size:.85rem}.character-line span{color:#e5e7eb}.om-block{margin-top:10px;margin-bottom:12px}.om-header{justify-content:space-between;align-items:baseline;gap:8px;display:flex}.om-latest{color:#e5e7eb;font-size:.75rem}.om-chart{align-items:flex-end;gap:4px;height:72px;margin-top:6px;display:flex}.om-bar{background:linear-gradient(#4ade80,#22c55e);border-radius:999px 999px 0 0;flex:1;box-shadow:0 0 6px #22c55e99}.engagement-row{justify-content:space-between;align-items:center;gap:10px;margin-bottom:10px;display:flex}.engagement-right{align-items:center;gap:8px;display:flex}.engagement-chip{border:1px solid #0000;border-radius:999px;padding:4px 10px;font-size:.75rem}.engagement-active{color:#bbf7d0;background:#16a34a2e;border-color:#22c55ecc}.engagement-moderate{color:#bfdbfe;background:#1e40af24;border-color:#3b82f6b3}.engagement-risk{color:#fecaca;background:#f8717129;border-color:#f87171cc}.nudge-button{color:#fecaca;cursor:pointer;background:#7f1d1db3;border:1px solid #f87171e6;border-radius:999px;padding:5px 10px;font-size:.75rem;transition:background .12s,border-color .12s}.nudge-button:hover{background:#991b1be6;border-color:#fecaca}.program-modal-backdrop{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:50;background:#0f172acc;justify-content:center;align-items:center;display:flex;position:fixed;inset:0}.program-modal{width:100%;max-width:720px;max-height:80vh;overflow-y:auto}.program-modal-header{justify-content:space-between;align-items:center;gap:12px;margin-bottom:6px;display:flex}.program-modal-sub{color:var(--text-muted);margin:4px 0 0;font-size:.8rem}.program-modal-tags{flex-wrap:wrap;gap:6px;margin:8px 0 10px;display:flex}.program-modal-grid{grid-template-columns:minmax(0,1.1fr) minmax(0,1fr);gap:14px;display:grid}.program-adjust-placeholder{flex-direction:column;gap:8px;margin-top:4px;display:flex}.program-adjust-row{justify-content:space-between;gap:8px;font-size:.8rem;display:flex}.program-modal-footer{color:var(--text-muted);margin-top:12px;font-size:.78rem}.notifications-card{margin:10px 0 18px}.notifications-list{flex-direction:column;gap:8px;display:flex}.notification-row{background:#0f172af5;border:1px solid #374151e6;border-radius:12px;justify-content:space-between;align-items:flex-start;gap:10px;padding:8px;display:flex}.notification-unread{border-color:var(--accent-strong);box-shadow:0 0 12px #22c55e40}.notification-main{flex-direction:column;gap:2px;display:flex}.notification-from{color:#f9fafb;margin:0;font-size:.9rem;font-weight:500}.notification-meta{color:var(--text-muted);margin:0;font-size:.75rem}.notification-status-tag{color:#bbf7d0;border:1px solid #34d399b3;border-radius:999px;margin-left:6px;padding:2px 6px;font-size:.7rem;display:inline-block}.urgency-tag{border:1px solid #0000;border-radius:999px;align-items:center;padding:2px 8px;font-size:.7rem;display:inline-flex}.urgency-low{color:#bfdbfe;background:#3b82f624;border-color:#3b82f6b3}.urgency-normal{color:#e5e7eb;background:#94a3b833;border-color:#94a3b8cc}.urgency-high{color:#fecaca;background:#f8717129;border-color:#f87171e6}.notification-modal{max-width:640px}.notification-body{margin-top:6px;font-size:.9rem}.notification-reply{margin-top:6px}.notification-textarea{resize:vertical;min-height:80px}.message-modal{max-width:520px}.message-textarea{resize:vertical;min-height:90px}.portal-hint{margin-top:8px}.patient-portal-grid{grid-template-columns:260px minmax(0,1.6fr)}.patient-portal-main .portal-section{margin-bottom:10px}@media (max-width:960px){.app-grid,.patient-portal-grid{grid-template-columns:minmax(0,1fr)}.banner-wrapper{display:none}.header-meta{margin-left:0}.program-modal-grid{grid-template-columns:minmax(0,1fr)}.character-panel{flex-direction:column;align-items:flex-start}}@media (max-width:640px){body{background-position:top}#root{padding:.75rem}.app-root{padding:16px 12px 24px}.app-header{flex-direction:column;align-items:flex-start;gap:8px}.header-meta{justify-content:space-between;width:100%}.card{border-radius:14px;padding:14px 14px 16px;box-shadow:0 14px 40px #0f172ae6}.overview-grid{grid-template-columns:minmax(0,1fr)}.creator-nav{flex-direction:column-reverse;align-items:stretch;gap:12px}.creator-nav-centre{justify-content:center}.btn-primary,.btn-secondary,.xp-test-btn{justify-content:center;width:100%}.character-panel{width:100%}.class-card{width:100%;max-width:320px}}@media (max-width:480px){.login-wrapper{padding:16px}.login-card{border-radius:16px;padding:18px 16px 16px}.login-title{font-size:22px}.login-subtitle{font-size:13px}.login-input{padding:8px 10px;font-size:13px}.login-button{width:100%}.wizard-img{width:180px}}
